<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Contact | Mildred Josiah</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <main>
    <h1>Contact Us</h1><br>
    <form id="contactForm">
      <label for="name">*Full Name</label>
      <input type="text" id="name" required data-testid="test-contact-name" aria-describedby="error-name">
      <small id="error-name" data-testid="test-contact-error-name" class="error"></small>

      <label for="email">*Email</label>
      <input type="email" id="email" required data-testid="test-contact-email" aria-describedby="error-email">
      <small id="error-email" data-testid="test-contact-error-email" class="error"></small>

      <label for="subject">*Subject</label>
      <input type="text" id="subject" required data-testid="test-contact-subject" aria-describedby="error-subject">
      <small id="error-subject" data-testid="test-contact-error-subject" class="error"></small>

      <label for="message">*Message</label>
     <input type="textarea" id="message" required minlength="10" data-testid="message" aria-describedby="error-message">
      <small id="error-message" data-testid="test-contact-error-message" class="error"></small>

<button type="submit">Submit</button>

      <!-- Success message -->
      <p id="successMessage" class="success" hidden>
        ✅ Form submitted successfully!
      </p>

      <!-- <button type="submit" data-testid="test-contact-submit">Submit</button>
      <p id="successMessage" data-testid="test-contact-success" class="success" hidden>✅ Message sent successfully!</p> -->
    </form>
<br>
    <div class="links">
      <a href="index.html">Back to Home</a> |
      <a href="about.html">About Me</a>
    </div>
  </main>

  
</body>

<script>
  document.addEventListener("DOMContentLoaded", () => {
  const form = document.getElementById("contactForm");
  const successMessage = document.getElementById("successMessage");

  // Error fields
  const errorName = document.getElementById("error-name");
  const errorEmail = document.getElementById("error-email");
  const errorSubject = document.getElementById("error-subject");
  const errorMessage = document.getElementById("error-message");

  form.addEventListener("submit", (event) => {
    event.preventDefault(); // Stop form from reloading

    // Get input values
    const name = document.getElementById("name").value.trim();
    const email = document.getElementById("email").value.trim();
    const subject = document.getElementById("subject").value.trim();
    const message = document.getElementById("message").value.trim();

    // Reset all error messages
    errorName.textContent = "";
    errorEmail.textContent = "";
    errorSubject.textContent = "";
    errorMessage.textContent = "";
    successMessage.hidden = true;

    let valid = true;

    // ✅ Name validation
    if (name === "") {
      errorName.textContent = "Full name is required.";
      valid = false;
    }

    // ✅ Email validation
    const emailPattern = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
    if (email === "") {
      errorEmail.textContent = "Email is required.";
      valid = false;
    } else if (!emailPattern.test(email)) {
      errorEmail.textContent = "Please enter a valid email address.";
      valid = false;
    }

    // ✅ Subject validation
    if (subject === "") {
      errorSubject.textContent = "Subject is required.";
      valid = false;
    }

    // ✅ Message validation (at least 10 characters)
    if (message === "") {
      errorMessage.textContent = "Message is required.";
      valid = false;
    } else if (message.length < 10) {
      errorMessage.textContent = "Message must be at least 10 characters long.";
      valid = false;
    }

    // ✅ If all fields are valid → show success message
    if (valid) {
      successMessage.hidden = false;
      form.reset();

      // Hide success message after 3 seconds
      setTimeout(() => {
        successMessage.hidden = true;
      }, 3000);
    }
  });
});


</script>

</html>
